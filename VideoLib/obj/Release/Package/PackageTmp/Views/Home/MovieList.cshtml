@model PagedList.IPagedList<VideoLib.Models.Movie>
@using PagedList.Mvc;
@{
    ViewBag.Title = "MovieList";
}

<h2>Lista filmów</h2>
@using (Html.BeginForm("MovieList", "Home", FormMethod.Get))
{
    <p>
        <div class="row">
            <div class="col-md-8">
                @Html.TextBox("SearchString", ViewBag.CurrentFilter as string, htmlAttributes: new { @class = "form-control txtField", @placeholder = "Wpisz tytuł jednego z "+Model.TotalItemCount+" filmów", @style = "height:35px; width:100%;" })
            </div>
            <div class="col-md-4">
                <input class="btnStyle" type="submit" value="SZUKAJ" />
            </div>
        </div>
    </p>
}
<table class="table">
    <tr>
        <th>
            @Html.ActionLink("Nazwa filmu", "MovieList", new { sort = ViewBag.NameSortParm })
        </th>
        @*<th>
            Czas trwania
        </th>*@
        <th>
            @Html.ActionLink("Data dodania", "MovieList", new { sort = ViewBag.DateSortParm })
        </th>
        <th></th>
    </tr>
    @foreach (var item in Model)
    {

<tr>
    <td>
        <a class="movieList" href="@Url.Action("Movie", "Home", new { id = item.fullName, drive= item.witchDrive, name = item.fullName})">@Html.DisplayFor(modelItem => item.fullName)</a>
    </td>
    @*<td>
        <a class="movieList txtColor" href="@Url.Action("Movie", "Home", new { id = item.fullName, drive= item.witchDrive, name = item.fullName})">@Html.DisplayFor(modelItem => item.MovieTime)</a>
    </td>*@
    <td>
        <a class="movieList txtColor" href="@Url.Action("Movie", "Home", new { id = item.fullName, drive= item.witchDrive, name = item.fullName})">@Html.DisplayFor(modelItem => item.date)</a>
    </td>
</tr>

    }

</table>
<br />
</div>
<div>
Strona @(Model.PageCount < Model.PageNumber ? 0 : Model.PageNumber) z @Model.PageCount
<div style="width: 100%">
@Html.PagedListPager(Model, page => Url.Action("MovieList", new { page, sort = ViewBag.CurrentSort }), new PagedListRenderOptions { Display = PagedListDisplayMode.IfNeeded})
</div>